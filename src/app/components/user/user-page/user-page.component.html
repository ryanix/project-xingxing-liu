<app-navbar></app-navbar>
<div class="container-fluid alert alert-danger" *ngIf="errFlag">
  {{errMsg}}
</div>

<div class="container-fluid alert alert-success" *ngIf="sucFlag">
  {{sucMsg}}
</div>
<div class="container" style="margin-top: 20px; margin-bottom: 20px; background-color: #c4e3f3">
  <div class="row panel">
    <div class="col-md-4 bg_blur ">
      <button (click)="addAdFriend()" class="follow_btn hidden-xs">Follow</button>
    </div>
    <div class="col-md-8  col-xs-12" *ngIf="user">
      <img src="../../../../assets/img/logo.jpg" class="img-thumbnail picture hidden-xs" />
      <div class="header">
        <h1>{{user.username}}</h1>
        <h4>{{user.userType=='1' ? "Normal User" : "Administartor" }}</h4>
        <span>Left for future addons.</span>
      </div>
    </div>
  </div>

  <div class="row nav" *ngIf="user">
      <a class="col-md-4 col-xs-4 well" (click)="changeIndex(1)" style="color: white">
        <i class="fa fa-heart-o fa-lg" style="color: white"></i> {{user.favirates.length}}</a>
      <a class="col-md-4 col-xs-4 well" (click)="changeIndex(2)" style="color: white">
        <i class="fa fa-users fa-lg" style="color: white"></i> {{user.friends.length}}</a>
      <a class="col-md-4 col-xs-4 well" style="color: white">
        <i class="fa fa-thumbs-o-up fa-lg" style="color: white"></i> 26</a>
  </div>
</div>

<div>
  <div class="container-fluid" *ngIf=" index == 1">
    <div class="card card-body" style="color: black">
      <p>Collection Information</p>
      <table class="table table-striped table-hover" *ngIf="user">
        <thead class="container-fluid">
          <td class="col-sm-3">Collection Name</td>
          <td class="col-sm-3">Date Created</td>
          <td class="col-sm-3">Number Of Movies</td>
        </thead>
        <tr *ngFor="let f of user.favirates" routerLink="/collection/{{f._id}}">
          <td class="col-sm-3">{{f.name}}</td>
          <td class="col-sm-3">{{f.dateCreated | date: 'MM/dd/yyyy'}}</td>
          <td class="col-sm-3">{{f.movies.length}}</td>
        </tr>
      </table>
    </div>
  </div>
  <div class="container-fluid" *ngIf=" index == 2">
    <div class="card card-body" style="color: black">
      <p>Friends Information</p>
      <table class="table table-striped table-hover" *ngIf="user">
        <thead class="container-fluid">
        <td class="col-sm-3">Friend Name</td>
        <td class="col-sm-3">Date Created</td>
        <td class="col-sm-3">Number Of Collection</td>
        </thead>
        <tr *ngFor="let f of user.friends" routerLink="/userPage/{{f._id}}">
          <td class="col-sm-3">{{f.name}}</td>
          <td class="col-sm-3">{{f.dateCreated | date: 'MM/dd/yyyy'}}</td>
          <td class="col-sm-3">{{f.favirates.length}}</td>
        </tr>
      </table>
    </div>
  </div>
</div>


